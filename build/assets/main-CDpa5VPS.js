import{V as R,a as we,R as ye,E as ve,b as _e,S as Me,P as be,W as Pe,c as Ee,M as p,d as j,e as ke,G as Z,T as K,f as W,g as U,D as X,B as P,h as le,i as B,j as q,L as ee,k as he,C as Ie,l as Se,m as d}from"./GLTFLoader-DtUm4aMj.js";var z=Object.freeze({Linear:Object.freeze({None:function(e){return e},In:function(e){return this.None(e)},Out:function(e){return this.None(e)},InOut:function(e){return this.None(e)}}),Quadratic:Object.freeze({In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}}),Cubic:Object.freeze({In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}}),Quartic:Object.freeze({In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}}),Quintic:Object.freeze({In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}}),Sinusoidal:Object.freeze({In:function(e){return 1-Math.sin((1-e)*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return .5*(1-Math.sin(Math.PI*(.5-e)))}}),Exponential:Object.freeze({In:function(e){return e===0?0:Math.pow(1024,e-1)},Out:function(e){return e===1?1:1-Math.pow(2,-10*e)},InOut:function(e){return e===0?0:e===1?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}}),Circular:Object.freeze({In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}}),Elastic:Object.freeze({In:function(e){return e===0?0:e===1?1:-Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI)},Out:function(e){return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e-.1)*5*Math.PI)+1},InOut:function(e){return e===0?0:e===1?1:(e*=2,e<1?-.5*Math.pow(2,10*(e-1))*Math.sin((e-1.1)*5*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin((e-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(e){var n=1.70158;return e===1?1:e*e*((n+1)*e-n)},Out:function(e){var n=1.70158;return e===0?0:--e*e*((n+1)*e+n)+1},InOut:function(e){var n=2.5949095;return(e*=2)<1?.5*(e*e*((n+1)*e-n)):.5*((e-=2)*e*((n+1)*e+n)+2)}}),Bounce:Object.freeze({In:function(e){return 1-z.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?z.Bounce.In(e*2)*.5:z.Bounce.Out(e*2-1)*.5+.5}}),generatePow:function(e){return e===void 0&&(e=4),e=e<Number.EPSILON?Number.EPSILON:e,e=e>1e4?1e4:e,{In:function(n){return Math.pow(n,e)},Out:function(n){return 1-Math.pow(1-n,e)},InOut:function(n){return n<.5?Math.pow(n*2,e)/2:(1-Math.pow(2-n*2,e))/2+.5}}}}),F=function(){return performance.now()},xe=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var n=this;return Object.keys(this._tweens).map(function(t){return n._tweens[t]})},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(n){this._tweens[n.getId()]=n,this._tweensAddedDuringUpdate[n.getId()]=n},e.prototype.remove=function(n){delete this._tweens[n.getId()],delete this._tweensAddedDuringUpdate[n.getId()]},e.prototype.update=function(n,t){n===void 0&&(n=F()),t===void 0&&(t=!1);var o=Object.keys(this._tweens);if(o.length===0)return!1;for(;o.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<o.length;i++){var s=this._tweens[o[i]],a=!t;s&&s.update(n,a)===!1&&!t&&delete this._tweens[o[i]]}o=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),O={Linear:function(e,n){var t=e.length-1,o=t*n,i=Math.floor(o),s=O.Utils.Linear;return n<0?s(e[0],e[1],o):n>1?s(e[t],e[t-1],t-o):s(e[i],e[i+1>t?t:i+1],o-i)},Bezier:function(e,n){for(var t=0,o=e.length-1,i=Math.pow,s=O.Utils.Bernstein,a=0;a<=o;a++)t+=i(1-n,o-a)*i(n,a)*e[a]*s(o,a);return t},CatmullRom:function(e,n){var t=e.length-1,o=t*n,i=Math.floor(o),s=O.Utils.CatmullRom;return e[0]===e[t]?(n<0&&(i=Math.floor(o=t*(1+n))),s(e[(i-1+t)%t],e[i],e[(i+1)%t],e[(i+2)%t],o-i)):n<0?e[0]-(s(e[0],e[0],e[1],e[1],-o)-e[0]):n>1?e[t]-(s(e[t],e[t],e[t-1],e[t-1],o-t)-e[t]):s(e[i?i-1:0],e[i],e[t<i+1?t:i+1],e[t<i+2?t:i+2],o-i)},Utils:{Linear:function(e,n,t){return(n-e)*t+e},Bernstein:function(e,n){var t=O.Utils.Factorial;return t(e)/t(n)/t(e-n)},Factorial:function(){var e=[1];return function(n){var t=1;if(e[n])return e[n];for(var o=n;o>1;o--)t*=o;return e[n]=t,t}}(),CatmullRom:function(e,n,t,o,i){var s=(t-e)*.5,a=(o-n)*.5,r=i*i,c=i*r;return(2*n-2*t+s+a)*c+(-3*n+3*t-2*s-a)*r+s*i+n}}},Be=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),te=new xe,de=function(){function e(n,t){t===void 0&&(t=te),this._object=n,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=z.Linear.None,this._interpolationFunction=O.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=Be.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.getDuration=function(){return this._duration},e.prototype.to=function(n,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=n,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},e.prototype.duration=function(n){return n===void 0&&(n=1e3),this._duration=n<0?0:n,this},e.prototype.dynamic=function(n){return n===void 0&&(n=!1),this._isDynamic=n,this},e.prototype.start=function(n,t){if(n===void 0&&(n=F()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var o in this._valuesStartRepeat)this._swapEndStartRepeatValues(o),this._valuesStart[o]=this._valuesStartRepeat[o]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=n,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},e.prototype.startFromCurrentValues=function(n){return this.start(n,!0)},e.prototype._setupProperties=function(n,t,o,i,s){for(var a in o){var r=n[a],c=Array.isArray(r),y=c?"array":typeof r,g=!c&&Array.isArray(o[a]);if(!(y==="undefined"||y==="function")){if(g){var u=o[a];if(u.length===0)continue;for(var E=[r],v=0,b=u.length;v<b;v+=1){var f=this._handleRelativeValue(r,u[v]);if(isNaN(f)){g=!1,console.warn("Found invalid interpolation list. Skipping.");break}E.push(f)}g&&(o[a]=E)}if((y==="object"||c)&&r&&!g){t[a]=c?[]:{};var h=r;for(var _ in h)t[a][_]=h[_];i[a]=c?[]:{};var u=o[a];if(!this._isDynamic){var I={};for(var _ in u)I[_]=u[_];o[a]=u=I}this._setupProperties(h,t[a],u,i[a],s)}else(typeof t[a]>"u"||s)&&(t[a]=r),c||(t[a]*=1),g?i[a]=o[a].slice().reverse():i[a]=t[a]||0}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(n){return n===void 0&&(n=F()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=n,this._group&&this._group.remove(this),this)},e.prototype.resume=function(n){return n===void 0&&(n=F()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=n-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},e.prototype.stopChainedTweens=function(){for(var n=0,t=this._chainedTweens.length;n<t;n++)this._chainedTweens[n].stop();return this},e.prototype.group=function(n){return n===void 0&&(n=te),this._group=n,this},e.prototype.delay=function(n){return n===void 0&&(n=0),this._delayTime=n,this},e.prototype.repeat=function(n){return n===void 0&&(n=0),this._initialRepeat=n,this._repeat=n,this},e.prototype.repeatDelay=function(n){return this._repeatDelayTime=n,this},e.prototype.yoyo=function(n){return n===void 0&&(n=!1),this._yoyo=n,this},e.prototype.easing=function(n){return n===void 0&&(n=z.Linear.None),this._easingFunction=n,this},e.prototype.interpolation=function(n){return n===void 0&&(n=O.Linear),this._interpolationFunction=n,this},e.prototype.chain=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return this._chainedTweens=n,this},e.prototype.onStart=function(n){return this._onStartCallback=n,this},e.prototype.onEveryStart=function(n){return this._onEveryStartCallback=n,this},e.prototype.onUpdate=function(n){return this._onUpdateCallback=n,this},e.prototype.onRepeat=function(n){return this._onRepeatCallback=n,this},e.prototype.onComplete=function(n){return this._onCompleteCallback=n,this},e.prototype.onStop=function(n){return this._onStopCallback=n,this},e.prototype.update=function(n,t){var o=this,i;if(n===void 0&&(n=F()),t===void 0&&(t=!0),this._isPaused)return!0;var s,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(n>a)return!1;t&&this.start(n,!0)}if(this._goToEnd=!1,n<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var r=n-this._startTime,c=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),y=this._duration+this._repeat*c,g=function(){if(o._duration===0||r>y)return 1;var h=Math.trunc(r/c),_=r-h*c,I=Math.min(_/o._duration,1);return I===0&&r===o._duration?1:I},u=g(),E=this._easingFunction(u);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,E),this._onUpdateCallback&&this._onUpdateCallback(this._object,u),this._duration===0||r>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((r-this._duration)/c)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=c*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var b=0,f=this._chainedTweens.length;b<f;b++)this._chainedTweens[b].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(n,t,o,i){for(var s in o)if(t[s]!==void 0){var a=t[s]||0,r=o[s],c=Array.isArray(n[s]),y=Array.isArray(r),g=!c&&y;g?n[s]=this._interpolationFunction(r,i):typeof r=="object"&&r?this._updateProperties(n[s],a,r,i):(r=this._handleRelativeValue(a,r),typeof r=="number"&&(n[s]=a+(r-a)*i))}},e.prototype._handleRelativeValue=function(n,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?n+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(n){var t=this._valuesStartRepeat[n],o=this._valuesEnd[n];typeof o=="string"?this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(o):this._valuesStartRepeat[n]=this._valuesEnd[n],this._valuesEnd[n]=t},e}(),S=te;S.getAll.bind(S);S.removeAll.bind(S);S.add.bind(S);S.remove.bind(S);var Ce=S.update.bind(S);let H=new Set;const oe=new we,ce=new ye;let De=new R;console.log(De,"OLD");function M(e,n,t,o){e.domElement.addEventListener("click",i=>{oe.x=i.clientX/window.innerWidth*2-1,oe.y=-(i.clientY/window.innerHeight)*2+1,Le(n,t)},!1)}function Le(e,n,t,o){ce.setFromCamera(oe,e);const i=ce.intersectObjects(n);if(i.length>0){let s=i[0].object;for(;s&&!s.userData.id;)s=s.parent;if(s.userData.id!=11&&s.userData.id!=12&&s.userData.id!=13&&H.add(s.userData.id),s&&s.userData){let a;if(s.userData.name=="door"){window.location.href="./room1/room1.html";return}else if(s.userData.name=="door2"){window.location.href="./room1/room2.html";return}else if(s.userData.name=="door3"){window.location.href="./room1/room3.html";return}else if(s.userData.name=="fireplace"){if(console.log("fireplace enter"),H.size==9){new de(e.position).to({x:0,y:0,z:-18},5e3).easing(z.Quadratic.Out).onUpdate(()=>{const r=new R(s.position.x,s.position.y,s.position.z);e.lookAt(r),e.fov=30,e.updateProjectionMatrix()}).onComplete(()=>{e.lookAt(s.position)}).start(),setTimeout(()=>{window.location.href="FIRE LINK"},5e3);return}return}else a=new R(s.userData.cam.x,s.userData.cam.y,s.userData.cam.z);document.querySelector("#addNumber").innerHTML=JSON.stringify(H.size),document.querySelector("#object-info").style.display="block",document.querySelector("#object-info").style.top=s.userData.position.top+"px",document.querySelector("#object-info").style.left=s.userData.position.left+"px",document.querySelector("#object-info").innerHTML=s.userData.title+s.userData.text+s.userData.titleeng+s.userData.texteng,s.userData.name=="wall"&&(document.querySelector("#object-info2").style.display="block",document.querySelector("#object-info2").innerHTML="<h2> La famille Bonheur</h2> <p style='font-size:1.2rem;'>Rosa Bonheur apprendra le dessin et la peinture grâce à son père, professeur d’art. À 13 ans, elle copiait les peintures exposées au Louvre ; à 19ans elle y réalisait sa première exposition.        Rosa Bonheur n’était pas la seule artiste de la famille : tous ses frères et sœurs ont en effet suivi les traces du père. Son frère Auguste et sa sœur Juliette se sont consacrés à la peinture, tandis que son autre frère Isidore est devenu sculpteur. Ils ont chacun connu leur succès, mais Rosa Bonheur a été la seule à marquer drastiquement son époque. Ici vous vous leurs peintures. </p>  <h2>Family Bonheur</h2>                   <p style='font-size:1.2rem;'>Rosa Bonheur learned drawing and painting, thanks to her father, who was an art teacher. She copied paintings exhibited at the Louvre at the age of 13. And she held her first exhibition there at 19. Rosa Bonheur wasn't the only artist in the family: all her brothers and sisters indeed followed in their father's footsteps. Her brother Auguste and her sister Juliette dedicated themselves to painting, while her other brother Isidore became a sculptor. They each found success, but Rosa Bonheur was the only one to significantly impact her era. You can see their paintings here. </p>"),a&&new de(e.position).to({x:a.x,y:a.y,z:a.z},1e3).easing(z.Quadratic.Out).onUpdate(()=>{const r=new R(s.position.x,s.position.y,s.position.z);e.lookAt(r),e.fov=30,e.updateProjectionMatrix()}).onComplete(()=>{e.lookAt(s.position)}).start()}}}const T=new _e(0,0,0,"YXZ"),A=new R,Re={type:"change"},ze={type:"lock"},Te={type:"unlock"},ue=Math.PI/2;class Ae extends ve{constructor(n,t){super(),this.camera=n,this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.pointerSpeed=1,this._onMouseMove=Oe.bind(this),this._onPointerlockChange=je.bind(this),this._onPointerlockError=qe.bind(this),this.connect()}connect(){this.domElement.ownerDocument.addEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.addEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this._onPointerlockError)}disconnect(){this.domElement.ownerDocument.removeEventListener("mousemove",this._onMouseMove),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this._onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this._onPointerlockError)}dispose(){this.disconnect()}getObject(){return this.camera}getDirection(n){return n.set(0,0,-1).applyQuaternion(this.camera.quaternion)}moveForward(n){const t=this.camera;A.setFromMatrixColumn(t.matrix,0),A.crossVectors(t.up,A),t.position.addScaledVector(A,n)}moveRight(n){const t=this.camera;A.setFromMatrixColumn(t.matrix,0),t.position.addScaledVector(A,n)}lock(){this.domElement.requestPointerLock()}unlock(){this.domElement.ownerDocument.exitPointerLock()}}function Oe(e){if(this.isLocked===!1)return;const n=e.movementX||e.mozMovementX||e.webkitMovementX||0,t=e.movementY||e.mozMovementY||e.webkitMovementY||0,o=this.camera;T.setFromQuaternion(o.quaternion),T.y-=n*.002*this.pointerSpeed,T.x-=t*.002*this.pointerSpeed,T.x=Math.max(ue-this.maxPolarAngle,Math.min(ue-this.minPolarAngle,T.x)),o.quaternion.setFromEuler(T),this.dispatchEvent(Re)}function je(){this.domElement.ownerDocument.pointerLockElement===this.domElement?(this.dispatchEvent(ze),this.isLocked=!0):(this.dispatchEvent(Te),this.isLocked=!1)}function qe(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}const l=new Me;let D,V,x;const Fe=()=>{D=new be(60,window.innerWidth/window.innerHeight,.1,1e3),l.add(D),D.position.set(0,4,15),x=new Pe({antialias:!1}),x.setSize(window.innerWidth,window.innerHeight),x.setClearColor(16777215,1),document.body.appendChild(x.domElement),x.shadowMap.enabled=!0,x.shadowMap.type=Ee,V=new Ae(D,x.domElement),l.add(V.getObject()),window.addEventListener("resize",e,!1);function e(){D.aspect=window.innerWidth/window.innerHeight,D.updateProjectionMatrix(),x.setSize(window.innerWidth,window.innerHeight)}return{camera:D,controls:V,renderer:x}},We=[...Array.from({length:1},(e,n)=>({imgSrc:"./img/painings/1.jpg",width:5,height:3,position:{x:10,y:2,z:-19.5},rotationY:0,info:{title:`Van Gogh ${n+1}`,artist:"Vincent van Gogh",description:`This is one of the masterpieces by Vincent van Gogh, showcasing his unique style and emotional honesty. Artwork ${n+1} perfectly encapsulates his love for the beauty of everyday life.`,year:`Year ${n+1}`,link:" "}}))],Ue=(e,n)=>{let t=[];return We.forEach(o=>{const i=new p(new j(.01,.001),new ke({map:n.load()}));i.position.set(o.position.x,o.position.y,o.position.z),i.rotation.y=o.rotationY,i.userData={type:"painting",info:o.info,url:o.info.link},i.castShadow=!0,i.receiveShadow=!0,t.push(i)}),t};function He(e,n){let t=new Z;e.add(t),n=new K;const o=n.load("/textures/walls2.jpg",C=>{C.wrapS=C.wrapT=W,C.repeat.set(7,3)}),i=n.load("/textures/ceiling.jpg",C=>{C.wrapS=C.wrapT=W,C.repeat.set(1,3)}),s=new U({map:o,metalness:0,roughness:1,side:X}),a=new U({map:i,metalness:0,roughness:1,side:X}),r=new p(new P(25,40,.001),s);r.position.z=-30,r.name="frontWall";const c=new p(new P(20,23,.001),s);c.position.z=-26,c.position.x=-15,c.rotation.y=Math.PI/4;const y=new p(new P(20,40,.001),s);y.position.z=-26,y.position.x=15,y.rotation.y=-Math.PI/4;const g=new p(new P(.001,40,20),s);g.position.set(-20,12.5,14),t.add(g);const u=new p(new P(.001,5,20),s);u.position.set(-20,-2.5,-4),t.add(u);const E=new p(new P(.001,40,8),s);E.position.set(-20,0,-16.5),t.add(E);const v=new p(new P(100,40,.001),new le({transparent:!0,opacity:.1}));v.position.x=-20.3,v.rotation.y=-Math.PI/2,t.add(v);const b=new p(new P(100,40,.001),new le({transparent:!0,opacity:.1}));b.position.x=20.3,b.rotation.y=-Math.PI/2,t.add(b);const f=new p(new P(17,40,.01),a);f.position.x=20,f.position.z=-13,f.rotation.y=Math.PI/2;const h=new p(new P(15,40,.001),s);h.position.x=20,h.position.z=14,h.rotation.y=Math.PI/2;const _=new p(new P(15,20,.001),s);_.position.x=20,_.position.z=0,_.position.y=19,_.rotation.y=Math.PI/2;const I=new p(new P(15,5,.001),s);I.position.x=20,I.position.z=0,I.position.y=-1,I.rotation.y=Math.PI/2;const re=new p(new P(40,40,.001),s);re.position.z=20;const G=n.load("/textures/paysage.jpg"),Q=new U({map:G});G.wrapS=G.wrapT=W,G.repeat.set(3,1);const Y=new p(new j(200,150),Q);Y.position.set(-34,5,0),Y.rotation.y=Math.PI/2;const $=new p(new j(200,150),Q);$.position.set(34,5,0),$.rotation.y=-Math.PI/2;const J=new p(new j(200,150),Q);return J.position.set(-20,5,-90),J.rotation.y=Math.PI/4,Y.name="paysage",t.add(Y,$,J),t.add(r,re,f,c,y,h,_,I),t}const Ne=(e,n)=>{const t=new B(16777198,400);t.position.set(-30,15,-4),e.add(t);const o=new B(16729344,500);o.position.set(0,1.7,-24),o.userData.id="lightingup",e.add(o),setInterval(()=>{const f=Math.random()*50+70;o.intensity=f},100);const i=new B(16777147,7);i.position.set(-8.7,3.32,18),e.add(i);const s=new B(16777147,10,10,3);s.position.set(14,4.2,11,3),e.add(s);const a=new B(16777147,30);a.position.set(-19,11,13),e.add(a);const r=.07,c=new q(i,r);e.add(c);const y=new q(a,r);e.add(y);const g=new q(s,r);e.add(g);const u=new Z,E=new Z,v=[{x:-19,y:2,z:14},{x:-9.5,y:2,z:1},{x:9,y:3,z:-5},{x:18,y:13,z:6.2},{x:-11,y:3,z:-21},{x:-4,y:1,z:-18},{x:-11,y:3.7,z:17},{x:-7,y:2.6,z:17},{x:7,y:4,z:-15}];for(let f=0;f<v.length;f++){const h=new B(4388323,20,20,3.4);h.position.set(v[f].x,v[f].y,v[f].z),u.add(h);const _=new q(h,.2);E.add(_)}let b=!0;document.addEventListener("keydown",f=>{f.key==="o"&&(b?(e.traverse(h=>{h instanceof ee&&(h.visible=!1)}),e.add(u,E)):(e.traverse(h=>{h instanceof ee&&(h.visible=!0)}),e.remove(u,E)),b=!b)})},Ge=e=>{const t=new K().load("/textures/floor.jpg",a=>{a.wrapS=a.wrapT=W,a.repeat.set(10,10)}),o=new U({map:t,side:X}),i=new j(45,60),s=new p(i,o);s.rotation.x=Math.PI/2,s.position.y=-Math.PI,e.add(s)},Ye=(e,n)=>{n=new K;const t=n.load("/textures/ceiling2.jpg",a=>{a.wrapS=a.wrapT=W,a.repeat.set(3,3)}),o=new U({map:t,side:X}),i=new j(40,60),s=new p(i,o);s.rotation.x=Math.PI/2,s.position.y=20,e.add(s)},fe=e=>{Array.isArray(e)||(e=e.children),e.forEach(n=>{n.BoundingBox=new he,n.BoundingBox.setFromObject(n)})},Xe=e=>{document.getElementById("painting-info").classList.add("hide")},Ke=()=>{document.getElementById("painting-info").classList.remove("show")},k={ArrowUp:!1,ArrowDown:!1,ArrowLeft:!1,ArrowRight:!1,z:!1,q:!1,s:!1,d:!1},Qe=(e,n,t,o)=>{const i=5*e,s=t.position.clone();(k.ArrowRight||k.d)&&n.moveRight(i),(k.ArrowLeft||k.q)&&n.moveRight(-i),(k.ArrowUp||k.z)&&n.moveForward(i),(k.ArrowDown||k.s)&&n.moveForward(-i),$e(t,o)&&t.position.copy(s)},$e=(e,n)=>{const t=new he,o=new R;e.getWorldPosition(o),t.setFromCenterAndSize(o,new R(1,1,1));for(let i=0;i<n.children.length;i++){const s=n.children[i];if(t.intersectsBox(s.BoundingBox))return!0}return!1},Je=(e,n,t,o,i,s)=>{const a=new Ie;let r=function(){const c=a.getDelta();Qe(c,i,n,s);const y=8;let g;o.forEach(u=>{n.position.distanceTo(u.position)<y&&(g=u)}),g?Xe(g.userData.info):Ke(),t.gammaOutput=!0,t.gammaFactor=2.2,t.render(e,n),requestAnimationFrame(r)};r()},pe=()=>{const e=document.getElementById("menu");e.style.display="none"},ne=()=>{const e=document.getElementById("menu");e.style.display="block"},Ve=e=>{e.lock(),pe()},Ze=e=>{document.getElementById("play_button").addEventListener("click",()=>Ve(e))};function et(){document.getElementById("backgroundMusic").play()}function tt(){document.getElementById("backgroundMusic").pause()}let L=!0,N=!1;const ot=(e,n,t)=>{document.addEventListener("keydown",o=>it(o,e,n),!1),document.addEventListener("keyup",o=>st(o),!1),e.addEventListener("unlock",()=>{N&&ne(),N=!1})};function nt(e){L?e.lock():(N=!1,e.unlock()),L=!L}function it(e,n,t,o){e.key in k&&(k[e.key]=!0),e.key==="Escape"&&(ne(),N=!0,n.unlock(),L=!1),e.key==="p"&&(n.unlock(),L=!1),(e.key==="Enter"||e.key==="Return")&&(pe(),n.lock(),L=!0),e.key===" "&&(nt(n),t.fov=60,t.updateProjectionMatrix(),document.querySelector("#object-info").style.display="none",(document.querySelector("#object-info2").style.display="block")&&(document.querySelector("#object-info2").style.display="none")),e.key==="g"&&et(),e.key==="p"&&tt(),e.key==="m"&&(ne(),N=!0,n.unlock(),L=!1),e.key==="r"&&location.reload()}function st(e,n){e.key in k&&(k[e.key]=!1)}document.getElementById("toggle-info").addEventListener("click",()=>{document.getElementById("info-panel").classList.toggle("collapsed"),document.getElementById("toggle-info").innerText=document.getElementById("info-panel").classList.contains("collapsed")?"Afficher":"Cacher"});document.getElementById("about_button").addEventListener("click",function(){document.getElementById("about-overlay").classList.add("show")});document.getElementById("close-about").addEventListener("click",function(){document.getElementById("about-overlay").classList.remove("show")});const at=(e,n)=>{let t=null;document.addEventListener("keydown",o=>{o.key==="l"&&(t?(e.remove(t),t=null):(t=new B(16777215,100),t.position.copy(n.position),e.add(t)))})},rt=(e,n)=>{n.forEach(t=>{e.add(t)})},lt=e=>{e.xr.enabled=!0,e.xr.addEventListener("sessionstart",()=>{console.log("WebXR session started")}),e.xr.addEventListener("sessionend",()=>{console.log("WebXR session ended")}),document.body.appendChild(Se.createButton(e))},dt=e=>{new d().load("../models/dresser/dresser.glb",function(t){const o=t.scene;console.log("DRESSER",t),o.position.set(-9,-3.2,20),o.rotation.y=Math.PI;const i=5;o.scale.set(4,i,i),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading dresser model",t)})},ct=e=>{new d().load("../models/window1.glb",function(t){const o=t.scene;console.log("Window",t),o.position.set(-10,3.6,-15);const i=.54;o.scale.set(i,.69,i),o.traverse(r=>{r.isMesh&&(r.material.map,r.material.metalness=0,r.castShadow=!0)});let s=o.clone();s.scale.set(.21,.46,.26),s.position.set(-10.8,21.1,-25.3),s.rotation.z=Math.PI/4,s.rotation.x=Math.PI/2;let a=o.clone();a.scale.set(.35,.3,.35),a.position.set(26,2.8,-6),e.add(o),e.add(s),e.add(a)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading dresser model",t)})},ut=e=>{new d().load("../models/curtain.glb",function(t){const o=t.scene;console.log("curtain",t),o.scale.set(2,5,10),o.position.set(-14.8,15.5,-25.3),o.rotation.y=-Math.PI/3.9,e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading dresser model",t)})},ht=e=>{new d().load("../models/bookshelf.glb",function(t){const o=t.scene;console.log("bookshelf",t),o.position.set(18,-3,-10);const i=18;o.scale.set(i,i,i),o.traverse(s=>{s.isMesh&&(s.material.metalness=0,s.material.roughness=1,s.castShadow=!0)}),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.error("Error loading bookshelf model",t)})},ft=e=>{new d().load("../models/bookshelf2.glb",function(t){const o=t.scene;console.log("bookshelf2",t),o.position.set(18,-3,-18);const i=18;o.scale.set(i,i,i),o.traverse(s=>{s.isMesh&&(s.material.metalness=0,s.material.roughness=1,s.castShadow=!0)}),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.error("Error loading bookshelf2 model",t)})},pt=(e,n)=>{new d().load("../models/fireplace.glb",function(o){const i=o.scene;console.log("Fireplace",o),i.position.set(0,6,-27);const s=1.8;i.userData={id:11,name:"fireplace",interactive:!0,title:"<h2>Hfr</h2>",text:"<",position:{top:30,left:10},cam:{x:0,y:4,z:-5}},i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading fireplace model",o)})},gt=e=>{new d().load("../models/painting1.glb",function(t){const o=t.scene;console.log("painting1",t),o.position.set(-12,-3,-26);const i=2.4;o.scale.set(i,i,i),o.rotation.y=Math.PI/2,e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading painting1 model",t)})},mt=e=>{new d().load("../models/painting2.glb",function(t){const o=t.scene;console.log("painting2",t),o.position.set(-11.7,-3,-34);const i=2.4;o.scale.set(i,i,i),o.rotation.y=Math.PI/2.1,e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading painting2 model",t)})},wt=e=>{new d().load("../models/ptop.glb",function(t){const o=t.scene;console.log("ptop",t),o.position.set(19.6,14,-13);const i=3;o.rotation.y=Math.PI/2,o.scale.set(i,i,9),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading ptop model",t)})},yt=e=>{new d().load("../models/walllight.glb",function(t){const o=t.scene;console.log("walllight",t),o.position.set(-20,10,13);const i=.09;o.rotation.y=Math.PI,o.scale.set(i,i,i),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading walllight model",t)})},vt=e=>{new d().load("../models/stick.glb",function(t){const o=t.scene;console.log("stick",t),o.position.set(-8.7,1.7,18);const i=3;o.scale.set(i,i,i);const s=o.clone();s.position.set(14,2.6,11),e.add(o,s),document.getElementById("loader").style.display="none"},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading stick model",t)})},_t=(e,n)=>{new d().load("../models/paintingcow.glb",function(o){const i=o.scene;console.log("Painting Cow",o),i.userData={id:5,name:"phorse",interactive:!0,title:"<h2>Portrait de Dubufe</h2>",titleeng:"<h2>Portrait of Dubufe</h2>",text:"<p>Ce portrait de Rosa Bonheur a été réalisé par Édouard-Louis Dubufe en 1857, célèbre peintre de l’époque. Il peint alors Bonheur droite, un pinceau et un livre d’études dans les mains, appuyée à une commode. Toutefois, en voyant l’œuvre finale, Bonheur n’était pas satisfaite et préféra repeindre une vache au-dessus du meuble en bois dessiné par Dubufe. Cette dernière version du portrait lui ressemblait bien plus, selon elle.</p>",texteng:"This portrait of Rosa Bonheur was painted by Édouard-Louis Dubufe in 1857, a famous painter of the time. He depicted Bonheur standing upright, holding a paintbrush and a study book, leaning against a chest of drawers. However, upon seeing the final work, Bonheur was not satisfied and preferred to repaint a cow above the wooden furniture drawn by Dubufe. According to her, this latter version of the portrait resembled her much more.",position:{top:30,left:10},cam:{x:0,y:4,z:-5}},i.position.set(-12,4,-22),i.rotation.y=-Math.PI/8;const s=7;i.scale.set(s,s,s),i.traverse(a=>{a.isMesh&&(a.material.map,a.material.metalness=0,a.castShadow=!0)}),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading dresser model",o)})},Mt=e=>{new d().load("../models/chandle.glb",function(t){const o=t.scene;console.log("Chandle",t),o.position.set(0,12,-10);const i=.0046;o.scale.set(i,i,i),o.traverse(s=>{s.isMesh&&(s.material.metalness=0)}),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading dresser model",t)})},bt=e=>{new d().load("../models/carpet.glb",function(t){const o=t.scene;console.log("Carpet",t),o.position.set(0,-3,-4);const i=5;o.scale.set(i,i,i),o.rotation.y=Math.PI/2,o.traverse(s=>{s.isMesh&&(s.material.metalness=0)}),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading carpet model",t)})},Pt=e=>{new d().load("../models/chair.glb",function(t){const o=t.scene;console.log("Chair",t),o.position.set(-5,-2.8,-18);const i=2.2;o.scale.set(-1*i,i,i),o.rotation.y=Math.PI/1.4,e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading chair model",t)})},Et=e=>{new d().load("../models/pdog.glb",function(t){const o=t.scene;console.log("Pdog",t),o.position.set(15.5,14,-24.5),o.rotation.y=-Math.PI*.3;const i=3.5;o.scale.set(i,i,i),o.traverse(s=>{s.isMesh&&(s.material.metalness=0)}),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading pdog model",t)})},kt=(e,n)=>{new d().load("../models/phorse.glb",function(o){const i=o.scene;console.log("Phorse",o),i.position.set(9,3,-17),i.userData={id:4,name:"phorse",interactive:!0,title:"<h2>Chevaux</h2>",titleeng:"<h2>Horses</h2>",text:"<p>Ce tableau est la dernière œuvre de Rosa Bonheur. Puisqu'il est inachevé, il nous apporte une vision inédite de la manière dont Bonheur peignait. En effet, nous pouvons voir ici le croquis qu’elle faisait avant de peindre avec tous les détails que nous lui connaissons. Bonheur peignait donc les bases des éléments du tableau en brouillon, mais elle s’exerçait également énormément sur d’autres pages et feuilles d’études. Elle en avait ainsi une très grande collection. De son vivant, un admirateur de l’artiste proposa de lui racheter toutes ses études pour une somme d’argent faramineuse. Mais Bonheur ne voulut jamais les vendre, peu importe le prix qu’il lui offrait. Pour elle, ses études étaient plus importantes encore que les œuvres finies. </p>",texteng:"This painting is the last work of Rosa Bonheur. Since it is unfinished, it provides us with a new insight into how Bonheur painted. Indeed, we can see here the sketches she made before painting with all the details that we know her for. Bonheur would thus sketch the basics of the elements of the painting, but she also practiced extensively on other pages and study sheets. She had a very large collection of them. During her lifetime, an admirer of the artist proposed to buy all her studies for a staggering amount of money. But Bonheur never wanted to sell them, no matter the price offered. For her, her studies were even more important than the finished works.",position:{top:30,left:10},cam:{x:0,y:4,z:4}},i.rotation.y=Math.PI*-.25;const s=2.4;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading phorse model",o)})},It=(e,n)=>{new d().load("../models/door.glb",function(o){const i=o.scene;i.userData={id:11,name:"door",interactive:!0},console.log("Door",o),i.position.set(0,-2.5,19),i.rotation.y=-Math.PI/2;const s=4;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading door model",o)})},St=(e,n)=>{new d().load("../models/door2.glb",function(o){const i=o.scene;console.log("Door2",o),i.position.set(15,-3,20),i.userData={id:12,name:"door2",interactive:!0},i.rotation.y=Math.PI;const s=6;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading door2 model",o)})},xt=(e,n)=>{new d().load("../models/door2.glb",function(o){const i=o.scene;console.log("Door3",o),i.userData={id:13,name:"door3",interactive:!0},i.position.set(-16.8,-3,20),i.rotation.y=Math.PI;const s=6;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading door2 model",o)})},Bt=e=>{new d().load("../models/table.glb",function(t){const o=t.scene;console.log("Table",t),o.position.set(-7.5,-.1,-2);const i=4.8;o.scale.set(i,i,i),o.rotation.x=-Math.PI/2;const s=o.clone();s.position.set(7.5,-.1,-2),s.rotation.z=Math.PI,e.add(o,s)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading table model",t)})},Ct=e=>{new d().load("../models/piano.glb",function(t){const o=t.scene;console.log("PIANO",t),o.position.set(37,-3.3,-4),o.rotation.y=-Math.PI*.8;const i=.055;o.scale.set(i,i,i),e.add(o)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading piano model",t)})},Dt=e=>{new d().load("../models/bird.glb",function(t){const o=t.scene;console.log("bird",t),o.userData={id:2,name:"bird",interactive:!0},o.position.set(18,10,-8),o.rotation.y=Math.PI;const i=.5;o.scale.set(i,i,i);const s=o.clone();s.position.set(17.5,9,-10),s.scale.set(.3,.3,.3),o.traverse(a=>{a.isMesh&&(a.material.metalness=1,a.material.roughness=1)}),s.traverse(a=>{a.isMesh&&(a.material.metalness=1,a.material.roughness=.5)}),e.add(o,s)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading bird model",t)})},Lt=e=>{new d().load("../models/chair2.glb",function(t){const o=t.scene;console.log("chair2",t),o.position.set(-15,-3,-2);const i=5;o.scale.set(i,i,i),o.rotation.y=Math.PI/4;const s=o.clone();s.position.set(8,-3,18),s.rotation.y=-Math.PI*.95,o.traverse(a=>{a.isMesh&&(a.material.metalness=0)}),e.add(o),e.add(s)},function(t){console.log(t.loaded/t.total*100+"% loaded")},function(t){console.log("Error loading chair2 model",t)})},Rt=(e,n)=>{new d().load("../models/wall.glb",function(o){const i=o.scene;console.log("wall",o),i.position.set(-19.7,3.2,12.5),i.userData={id:8,name:"wall",interactive:!0,title:"<h2>Nathalie Micas et Anna Klumpke</h2>",texteng:"<p> Rosa Bonheur n'a jamais eu de mari, mais elle n'a pas non plus vécu  seule toute sa vie. Elle a passé de nombreuses années avec son amie  d'enfance, Nathalie Micas, et plus tard avec la peintre Anna Klumpke  jusqu'à la fin de sa vie.</p>",text:"<p>Rosa Bonheur never had a husband, but she didn't live alone all her life either. She spent many years with her childhood friend, Nathalie Micas, and later with the painter Anna Klumpke until the end of her life.</p>",titleeng:" <h2>Nathalie Micas and Anna Klumpke</h2>",position:{top:30,left:10},cam:{x:0,y:4,z:9}};const s=1.2;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading wall model",o)})},zt=(e,n)=>{new d().load("../models/horse.glb",function(o){const i=o.scene;i.userData={id:2,name:"horse",interactive:!0,title:"<h2>Les têtes des animaux</h2>",titleeng:"<h2>Animals' heads</h2>",text:"<p>  Rosa Bonheur had a great number of pets at home : dogs, horses, sheep, deer, and even lions. After their death, she had them taxidermied. This practice may seem very strange today, but in her time, it was more common : through this, Bonheur could keep the animals she loved so much close to her. </p>",texteng:"  Rosa Bonheur had a great number of pets at home : dogs, horses, sheep, deer, and even lions. After their death, she had them taxidermied. This practice may seem very strange today, but in her time, it was more common : through this, Bonheur could keep the animals she loved so much close to her. </p>",position:{top:30,left:30},cam:{x:5,y:4,z:0}},console.log("horsehead",o),i.position.set(19,12,6),i.rotation.z=Math.PI/3,i.rotation.x=Math.PI/4;const s=2.2;i.scale.set(s,s,s);const a=i.clone();a.scale.set(s,s,-s),a.position.set(19,12,-3),a.rotation.x=-Math.PI/4,a.rotation.z=Math.PI/3,e.add(i,a),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading horsehead model",o)})},Tt=(e,n)=>{new d().load("../models/order.glb",function(o){const i=o.scene;console.log("order",o),i.userData={id:3,name:"order",interactive:!0,title:"<h2>Légion d'honneur</h2>",titleeng:"<h2>Legion of honner</h2>",text:"<p>Rosa Bonheur reçoit la légion d’honneur le 10 juin 1865, de la main de l’impératrice Eugénie. En lui offrant, cette dernière lui dit “Enfin, vous voilà chevalier. Je suis si heureuse d’être la marraine de la première femme artiste qui reçoit cette haute distinction. J’ai voulu que le dernier acte de ma régence fût consacré à montrer qu’à mes yeux le génie n’a pas de sexe”.</p>",texteng:"Rosa Bonheur received the Legion of Honor on June 10, 1865, from the hand of French Empress Eugénie. While giving it to her, the Empress said, 'At last, you are a knight. I am so happy to be the godmother of the first female artist to receive this high distinction. I wanted the final act of my regency to demonstrate that in my eyes, genius knows no gender.",position:{top:50,left:50},cam:{x:-6,y:4,z:1}},i.position.set(-9.5,1.4,1);const s=.6;i.scale.set(s,s,s),i.rotation.z=Math.PI/2,e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading order model",o)})},At=(e,n)=>{new d().load("../models/camera.glb",function(o){const i=o.scene;console.log("camera",o),i.userData={id:1,name:"camera",interactive:!0,title:"<h2>Appareil photo</h2>",titleeng:"<h2>Photo Camera</h2>",text:"<p>De son vivant, Rosa Bonheur était une véritable célébrité. Elle donn  ait interviews et photographies pour se faire connaitre, et ses toiles étaient reproduites pour être accessibles à la portée d’un plus grand nombre. Des visiteurs curieux venaient parfois  l’observer peindre dans son atelier, à Paris. Toute cette agitation autour d’elle la pousse en 1860 à venir vivre au château de By, qu’elle achète avec l’argent des ventes de ses œuvres.</p>",texteng:"During her lifetime, Rosa Bonheur was a true celebrity. She gave interviews and posed for photographs to become known, and her paintings were reproduced to make them accessible to a larger audience. Curious visitors would sometimes come to watch her paint in her studio in Paris. All this attention around her encouraged her in 1860 to move to the By Castle, which she bought with the money from sales of her works.",position:{top:30,left:30},cam:{x:6,y:4,z:-8}},i.position.set(10,1.2,-4.6),i.rotation.y=Math.PI/.8;const s=.7;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading camera model",o)})},Ot=(e,n)=>{new d().load("../models/paper.glb",function(o){const i=o.scene;i.userData={id:9,name:"Paper",interactive:!0,title:"<h2>Paper</h2>",titleeng:"<h2>Paper</h2>",text:"<p>Rosa Bonheur avait pour habitude de porter des pantalons. À l’époque, ce n’était pas habituel pour une femme. En effet, pour pouvoir en porter, elle devait obtenir une “autorisation de travestissement” auprès d’un commissariat, valable 6 mois uniquement. Ce permis lui a été accordé pour lui permettre de se rendre dans ses lieux d’études (forêt, abattoirs, jardins zoologiques) avec une tenue qui n’empêche pas ses déplacements </p>",texteng:`Rosa Bonheur used to wear trousers. At that time, it wasn't usual for a woman. Indeed, to be able to wear them, she had to get a "cross-dressing permit" from a police station valid for only 6 months. This permit was given to her so she could go to her places of study (forests, slaughterhouses, zoos) wearing clothes that wouldn't bother her.`,position:{top:30,left:30},cam:{x:-4,y:4,z:-18}},console.log("paper",o),i.position.set(-4.4,.2,-18),i.rotation.z=Math.PI,i.rotation.x=Math.PI/2;const s=.4;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading paper model",o)})},jt=(e,n)=>{new d().load("../models/statue.glb",function(o){const i=o.scene;i.userData={id:7,name:"statue",interactive:!0,title:"<h2>Statue d'une vache </h2>",titleeng:"<h2>Statue of a bull</h2>",text:"<p> Rosa Bonheur est née dans une famille d’artistes. Son activité principale était la peinture et le crayonner, mais elle avait également de grandes compétences en sculpture. Contrairement à son frère qui était sculpteur, Rosa Bonheur utilisait ce talent surtout pour étudier l’anatomie des animaux en trois dimensions. </p>",texteng:"<p> Rosa Bonheur was born into a family of artists. All her brothers and sisters were artists too, but she was the most successful. Unlike her brother who was a sculptor, Rosa Bonheur mainly used this talent to study the anatomy of animals in 3D.</p>",position:{top:30,left:30},cam:{x:-8,y:4,z:10}},console.log("statue",o),i.position.set(-11,1.5,17);const s=.9;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading statue model",o)})},qt=(e,n)=>{new d().load("../models/phone.glb",function(o){const i=o.scene;i.userData={id:6,name:"phone",interactive:!0,title:"<h2>Alouette</h2>",titleeng:"<h2>Lark call</h2>",text:"<p>Cet objet étonnant est un appeau à alouette. Il était couramment utilisé pour la chasse à l’alouette : en effet, les bruits qu’il fait attirent les oiseaux. Rosa Bonheur l’utilisait également pour les attirer. Mais elle ne cherchait pas à les abattre ; une fois les oiseaux près d'elle, elle pouvait les dessiner à sa guise.</p>",texteng:"This remarkable object is a lark call. It was commonly used for lark hunting: indeed, the sounds it makes attract the birds. Rosa Bonheur also used it to attract them. However, she wasn't seeking to shoot them; once the birds were near her, she could draw them as she pleased.",position:{top:30,left:30},cam:{x:-8,y:4,z:10}},console.log("phone",o),i.position.set(-7,1.8,17);const s=2.3;i.scale.set(s,s,s),e.add(i),n&&typeof n=="function"&&n(i)},function(o){console.log(o.loaded/o.total*100+"% loaded")},function(o){console.log("Error loading phone model",o)})};let{camera:m,controls:ie,renderer:w}=Fe();const se=new K,ge=He(l,se);Ge(l);Ye(l,se);const ae=Ue(l,se);Ne(l);fe(ge);fe(ae);rt(l,ae);at(l,m);Ze(ie);ot(ie,m);M(w,m,l);Je(l,m,w,ae,ie,ge);ct(l);ut(l);Mt(l);bt(l);pt(l,e=>{M(w,m,[e])});_t(l,e=>{M(w,m,[e])});Et(l);kt(l,e=>{M(w,m,[e])});ht(l);ft(l);Bt(l);Ct(l);Dt(l);gt(l);mt(l);wt(l);yt(l);Pt(l);Lt(l);qt(l,e=>{M(w,m,[e])});Rt(l,e=>{M(w,m,[e])});At(l,e=>{M(w,m,[e])});Tt(l,e=>{M(w,m,[e])});zt(l,e=>{M(w,m,[e])});It(l,e=>{M(w,m,[e])});Ot(l,e=>{M(w,m,[e])});jt(l,e=>{M(w,m,[e])});St(l,e=>{M(w,m,[e])});xt(l,e=>{M(w,m,[e])});dt(l);function Ft(e){document.getElementById("addNumber").size,console.log("counter",H),H.size===9&&setTimeout(()=>{e.traverse(o=>{o instanceof ee&&(o.visible=!1)});const n=new B(3897936,500);n.position.set(0,1.7,-25),e.add(n);const t=new q(n,.4);e.add(t),document.querySelector("#gameopen").innerHTML="<p>Félicitations ! Vous êtes maintenant prêt à commencer le jeu. Cliquez sur la cheminée.</p>"},7e3)}document.addEventListener("click",function(e){Ft(l)});function me(){requestAnimationFrame(me),Ce(),w.render(l,m)}me();lt(w);vt(l);
